Currently, execution management on Grid systems is commonly performed through the use of the \emph{job} abstraction, where users provide an executable file furnished with metadata, such as a list of computational resources required by the job, that is submitted to a resource provider that, in turn, will schedule the job according to local policies. In most grid deployments today, users only have limited control over the resource platform on which computations are performed. In particular, two types of control are often lacking:

\begin{description}
\item[Availability and quantity of resources:] Users are limited to requesting coarse-grained resource allocations, such as number of CPUs, disk space, and memory. \emph{Finer-grained allocations}, such as percentage of a CPU, disk read/write speeds, and network bandwidth cannot be specified. In terms of availability, assuming no advance reservation capabilities, users have no control over the starting and ending time of their jobs, which will depend on local scheduling policies.
\item[Software environment:] Users are limited to the software environments available in the resource providers, which might not provide all the necessary dependencies (such as libraries) to run their jobs. Users may find that resource providers, who have to meet the needs of diverse communities, are unable or unwilling to install the software they need to run their jobs, limiting their choice of providers. Additionally, resource providers generally run jobs in a restricted execution environment, precluding the execution of any code requiring administrative privileges for all or part of its work.
\end{description}

Although these limitations are acceptable for a wide variety of computations, they can be a barrier for many others. Control over resource availability is particularly important for deadline{}-sensitive applications, in which a resource needs to be made available in response to a specific event, such as data becoming available from a sensor, a class starting at a specific time (in educational settings), and input from a human client. Although such control can be provided via reservation mechanisms, access to these reservations are carefully rationed by resource providers because of their negative impact on resource utilization. The lack of control over software configuration can be a barrier to the use of remote resources and providing more control over this aspect can increase demand for remote computing resources.

With these requirements in mind, Keahey et al. defined \emph{virtual workspaces} (VWs) \cite{VirtualWorkspaces05}, a construct that allows clients to negotiate the creation of a virtual computing resource with specified software environment and resource allocation. The workspace interface allows a remote client to negotiate and manage a virtual resource allocation securely using Web Services{}-based protocols for state access and management \cite{ModelingState05}. Virtual machines (VMs), such as Xen \cite{xen} and VMware \cite{vmwareweb}, with their isolation and virtualization properties, provide a
particularly promising platform for workspaces.

In this paper, we present and evaluate a resource management model for virtual workspaces designed to enable accurate and efficient creation of VM{}-based virtual workspaces. We constraint most of our discussion of resource management to the resource dimension of time or \emph{availability}, leaving more exhaustive investigations of other dimensions (such as memory, CPU, network bandwidth, etc.) to future work. Thus, we understand \emph{accuracy} to mean that a request to create a virtual workspace at a particular time $t$ (either immediately, or in the future) is satisfied at that time $t$, not later. By \emph{efficient}, we mean that the overheads incurred by the server(s) that process requests for virtual workspace creation are low. As we shall see, accuracy and efficiency are greatly affected by the often large size of virtual machine images required to run virtual workspaces. We show that by annotating virtual machine images with descriptive metadata, we can allow a scheduler to improve both accuracy and efficiency by prefetching and reusing images.

The rest of this paper is structured as follows. We begin, in Section~\ref{cha:background}, by providing some background on Grid Computing and Virtual Workspaces. Next, Section~\ref{cha:scenarios} presents the resource management scenarios
that motivate our virtual workspaces work, followed by a description, in Section~\ref{cha:problem}, of the specific problem we address in this work. Section~\ref{cha:virtualresources} explains our virtual resource model, Sections~\ref{cha:design}  and~\ref{cha:impl} describe the design and implementation, respectively, of our VW scheduling system, and Section~\ref{cha:experiments} presents our experimental results. Finally, Section~\ref{cha:related} discusses related work, and Section~\ref{cha:conclusions} presents our conclusions and future work.
